{"version":3,"sources":["webpack:///src/app/pages/registration/registration.page.html","webpack:///src/app/pages/registration/registration-routing.module.ts","webpack:///src/app/pages/registration/registration.module.ts","webpack:///src/app/pages/registration/registration.page.scss","webpack:///src/app/pages/registration/registration.page.ts"],"names":["routes","path","component","RegistrationPageRoutingModule","imports","forChild","exports","RegistrationPageModule","declarations","RegistrationPage","storage","alertCtrl","navCtrl","toastCtrl","router","platform","http","httpClient","userList","secret","userEmail","baseurl","areFieldsNotEmpty","phone","password","JSON","get","users","parse","user","console","log","push","set","navigate","sendOTP","alert","create","header","message","buttons","present","code","Math","floor","random","subscribe","res","selector","template"],"mappings":"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","file":"pages-registration-registration-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n \\r\\n</ion-header>\\r\\n\\r\\n<ion-content> \\r\\n  <ion-img id=\\\"img\\\" src=\\\"assets/LOGO4.png\\\"></ion-img>\\r\\n  \\r\\n  <div id=\\\"container\\\">\\r\\n    <form id=\\\"formRegistration\\\">\\r\\n      <ion-label id=\\\"h-title\\\">\\r\\n        REGISTRATION\\r\\n      </ion-label>\\r\\n      \\r\\n        <ion-card>\\r\\n          <ion-input id=\\\"textInput\\\" [(ngModel)]=\\\"phone\\\" name=\\\"phone\\\" type=\\\"text\\\"><ion-icon name=\\\"phone-portrait-outline\\\" item-left></ion-icon></ion-input>\\r\\n      </ion-card>\\r\\n      \\r\\n      <ion-card>\\r\\n        <ion-input id=\\\"textInput\\\" [(ngModel)]=\\\"password\\\" name=\\\"password\\\" type=\\\"password\\\"><ion-icon name=\\\"lock-closed\\\" item-left></ion-icon></ion-input>\\r\\n      </ion-card>\\r\\n      \\r\\n      <section class=\\\"full-width\\\">\\r\\n        <ion-button id=\\\"signupbtn\\\" (click)=\\\"regVal()\\\" expand=\\\"full\\\" color=\\\"secondary\\\">SIGNUP</ion-button> \\r\\n  \\r\\n      </section>\\r\\n\\r\\n    </form>\\r\\n   \\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"ion-text-end\\\"><ion-label id=\\\"login\\\" routerLink=\\\"/login\\\">Login</ion-label></div>\\r\\n  \\r\\n\\r\\n  <ion-img id=\\\"img\\\" src=\\\"assets/CrisCross3.png\\\"></ion-img>\\r\\n \\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegistrationPage } from './registration.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistrationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegistrationPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistrationPageRoutingModule } from './registration-routing.module';\r\n\r\nimport { RegistrationPage } from './registration.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegistrationPageRoutingModule\r\n  ],\r\n  declarations: [RegistrationPage]\r\n})\r\nexport class RegistrationPageModule {}\r\n","export default \"#h-title {\\n  margin-left: 20px;\\n  padding-left: 0px;\\n  width: auto;\\n  color: white;\\n  background-color: #0cb0d3;\\n  margin-right: 20px;\\n  font-size: 20px;\\n  font-weight: bolder;\\n  font-family: \\\"Century Gothic\\\", \\\"Futura\\\", san-serif;\\n}\\n\\n#container {\\n  margin-top: 50px;\\n  margin-left: 0px;\\n  margin-right: 0px;\\n  background-color: #0cb0d3;\\n  height: auto;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n}\\n\\n#img {\\n  margin-top: 50px;\\n  height: 120px;\\n  width: 120px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-bottom: 30px;\\n}\\n\\n#signupbtn {\\n  font-family: \\\"Century Gothic\\\", \\\"Futura\\\", san-serif;\\n  font-weight: bolder;\\n  margin-left: 16px;\\n  margin-right: 16px;\\n  color: white;\\n}\\n\\n#textInput {\\n  font-size: 25px;\\n  margin-left: 15px;\\n  margin-right: 15px;\\n}\\n\\n#icon-left {\\n  padding-left: 5px;\\n  margin-left: 5px;\\n}\\n\\n#footerIcon {\\n  height: 40px;\\n  width: 40px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n#login {\\n  font-family: \\\"Century Gothic\\\", \\\"Futura\\\", san-serif;\\n  margin-top: 10px;\\n  margin-right: 20px;\\n  color: #0cb0d3;\\n  float: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0RBQUE7QUFDSjs7QUFJRztFQUVJLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUFGUDs7QUFLRztFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUFGUDs7QUFLRztFQUNLLGtEQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQUZSOztBQU1HO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFIUDs7QUFPRztFQUNJLGlCQUFBO0VBQ0EsZ0JBQUE7QUFKUDs7QUFRRztFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUxQOztBQVVHO0VBQ0ksa0RBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7QUFQUCIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2gtdGl0bGUge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDBweDtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjojMGNiMGQzIDtcclxuICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbiAgICBmb250LWZhbWlseTogJ0NlbnR1cnkgR290aGljJywnRnV0dXJhJyxzYW4tc2VyaWY7XHJcblxyXG4gICAgXHJcbiAgIH1cclxuICAgXHJcbiAgICNjb250YWluZXIge1xyXG4gICAgICAgXHJcbiAgICAgICBtYXJnaW4tdG9wOiA1MHB4O1xyXG4gICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcclxuICAgICAgIG1hcmdpbi1yaWdodDogMHB4O1xyXG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjojMGNiMGQzIDtcclxuICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XHJcbiAgIH1cclxuXHJcbiAgICNpbWcge1xyXG4gICAgICAgbWFyZ2luLXRvcDogNTBweDtcclxuICAgICAgIGhlaWdodDogMTIwcHg7XHJcbiAgICAgICB3aWR0aDogIDEyMHB4O1xyXG4gICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gICB9XHJcblxyXG4gICAjc2lnbnVwYnRuIHtcclxuICAgICAgICBmb250LWZhbWlseTogJ0NlbnR1cnkgR290aGljJywnRnV0dXJhJyxzYW4tc2VyaWY7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMTZweDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XHJcbiAgICAgICAgY29sb3I6d2hpdGU7XHJcbiAgICAgICAgXHJcbiAgIH1cclxuXHJcbiAgICN0ZXh0SW5wdXQge1xyXG4gICAgICAgZm9udC1zaXplOiAyNXB4O1xyXG4gICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbiAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XHJcblxyXG4gICB9XHJcblxyXG4gICAjaWNvbi1sZWZ0IHtcclxuICAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG4gICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgfVxyXG5cclxuXHJcbiAgICNmb290ZXJJY29uIHtcclxuICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICAgICBcclxuXHJcbiAgIH1cclxuXHJcbiAgICNsb2dpbiB7XHJcbiAgICAgICBmb250LWZhbWlseTogJ0NlbnR1cnkgR290aGljJywnRnV0dXJhJyxzYW4tc2VyaWY7XHJcbiAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgY29sb3I6IzBjYjBkMztcclxuICAgICAgIGZsb2F0OiByaWdodDsgXHJcbiAgICAgICAgXHJcbiAgIH0gXHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, NavController, ToastController, Platform } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport { Storage } from '@ionic/storage';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-registration',\r\n  templateUrl: './registration.page.html',\r\n  styleUrls: ['./registration.page.scss'],\r\n})\r\nexport class RegistrationPage implements OnInit {\r\n\r\n  phone: string;\r\n  password: string;\r\n  userList: any[] = [];\r\n  secret: string = 'F3440211-EBA8-1DE0-9F16-0A536A7853A1';\r\n  userEmail: string='ejjars@gmail.com\t';\r\n  baseurl: string='https://api-mapper.clicksend.com/http/v2/send.php?username=';\r\n\r\n  constructor(\r\n    private storage: Storage , \r\n    private alertCtrl: AlertController , \r\n    public navCtrl: NavController , \r\n    public toastCtrl: ToastController, \r\n    private router:Router , \r\n    private platform: Platform,\r\n    private http: HTTP,\r\n    private httpClient: HttpClient\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async regVal(){\r\n\r\n    const areFieldsNotEmpty = this.phone !== \"\" && this.password !== \"\";\r\n\r\n    if (areFieldsNotEmpty) {\r\n      let users: Array<any> = JSON.parse(await this.storage.get('users'));\r\n      if (users === null) {\r\n        users = [];\r\n      }\r\n      const user = { \r\n        \"mobileNumber\": this.phone,\r\n        \"password\": this.password\r\n      };\r\n\r\n      console.log(users);\r\n\r\n      users.push(user);\r\n\r\n      await this.storage.set('users', users);\r\n      await this.router.navigate(['otp']);\r\n      this.sendOTP();\r\n    } else {\r\n      let alert = this.alertCtrl.create({\r\n        header :'Alert',\r\n        message :'Please don\\'t Empty the fields!',\r\n        buttons:['Ok']\r\n      });\r\n      (await alert).present();\r\n    }\r\n    console.log(await this.storage.get('users'));\r\n\r\n\r\n\r\n    /* old codes\r\n\r\n    if(this.phone !== \"\" && this.password !== \"\"){\r\n      const data = [];\r\n      data.push({\r\n        \"mobileNumber\": this.phone,\r\n        \"password\": this.password\r\n      });\r\n      this.userList = data\r\n      this.router.navigate(['otp'])\r\n      await this.storage.set('users', this.userList);\r\n      this.storage.get(\"users\").then((val) => {\r\n        console.log(val);\r\n        this.sendOTP()\r\n    })\r\n  }else {\r\n      let alert = this.alertCtrl.create({\r\n        header :'Alert',\r\n        message :'Please don\\'t Empty the fields!',\r\n        buttons:['Ok']\r\n      });\r\n      (await alert).present();\r\n    } */\r\n\r\n  \r\n  }\r\n\r\n  sendOTP(){\r\n    let code = Math.floor((Math.random()*1000000)+1);\r\n    this.storage.set('code',code);\r\n    this.httpClient.get(this.baseurl+ this.userEmail+'&key='+this.secret+'&to='+this.phone +'&senderid=180038&message=' + code).subscribe( async res => {\r\n      if(!res){\r\n        let alert = this.alertCtrl.create({\r\n          header :'Alert',\r\n          message :'Sorry failed request!',\r\n          buttons:['Ok']\r\n        });\r\n        (await alert).present();\r\n      }else{\r\n        let alert = this.alertCtrl.create({\r\n          header :'Alert',\r\n          message :'Success!',\r\n          buttons:['Ok']\r\n        });\r\n        (await alert).present();\r\n      }\r\n    });\r\n\r\n  \r\n  }\r\n\r\n}\r\n"]}